
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://frightenedfoxcn.github.io/notes/miscellany/bouceux-informal-topos/04logic/">
      
      
        <link rel="prev" href="../01sheaf/">
      
      
        <link rel="next" href="../06refs/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第四讲 拓扑斯的内逻辑 - FFox's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../css/svg.css">
    
      <link rel="stylesheet" href="../../../css/timeline.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../css/stylesheet.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="FFox&#39;s Notes" class="md-header__button md-logo" aria-label="FFox's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FFox's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第四讲 拓扑斯的内逻辑
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tech/" class="md-tabs__link">
          
  
  
    
  
  Technology

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../series/" class="md-tabs__link">
          
  
  
    
  
  Series

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Miscellany

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../qnotes/" class="md-tabs__link">
          
  
  
    
  
  Quick Notes

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../dnotes/" class="md-tabs__link">
          
  
  
    
  
  Daily Notes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="FFox&#39;s Notes" class="md-nav__button md-logo" aria-label="FFox's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>

    </a>
    FFox's Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    更新记录
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../links/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    友链
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../todo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    待办事项
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tech/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Technology
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Technology
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tech/rust-vulkan/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Vulkan Tutorial with Rust
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Vulkan Tutorial with Rust
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tech/rust-vulkan/01ComputePipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    01 计算流水线 Compute Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Series
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Series
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    写给计算机系学生的代数
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    写给计算机系学生的代数
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    00 前言：关于代数、数学和计算科学
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/01/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    01 代数：古典之旅
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    01 代数：古典之旅
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/01/01/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    1.1 太极：群之前的故事
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_3_2" id="__nav_3_2_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    1.1 太极：群之前的故事
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/01/01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.1.1 结合性：半群
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/01/02/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    1.2 乾坤：群论之初
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_3_3" id="__nav_3_2_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    1.2 乾坤：群论之初
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/02/01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.2.1 鸟迹：基本架构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/02/02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.2.2 阶：从 Lagrange 到 Sylow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/02/03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.2.3 扩张：从群构造群
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/03/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    03 无穷：拓扑学方法
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    03 无穷：拓扑学方法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4_2" id="__nav_3_2_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3.1 对象：拓扑空间
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    3.1 对象：拓扑空间
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/03/01/01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3.1.1 定义：一次闪光
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/04/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    04 符号：范畴论的抽象废话
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_5" id="__nav_3_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    04 符号：范畴论的抽象废话
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_5_2" id="__nav_3_2_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4.1 导向：范畴、函子、自然变换
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    4.1 导向：范畴、函子、自然变换
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/04/01/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    None
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/04/01/01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4.1.1 宏观：基本定义
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/04/01/02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4.1.2 中观：描述性质
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../series/alg-for-cs/solution/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    参考答案
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_6" id="__nav_3_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    参考答案
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/solution/01/02/01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.2.1 鸟迹：基本架构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Miscellany
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Miscellany
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Francis Bouceux - Some flavours of topos theory
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Francis Bouceux - Some flavours of topos theory
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01sheaf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第一讲 层拓扑斯
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第四讲 拓扑斯的内逻辑
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第四讲 拓扑斯的内逻辑
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 拓扑斯的语言
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-realization" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 项和公式的实现（realization）
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 拓扑斯中的命题逻辑
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 拓扑斯中的谓词逻辑
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 拓扑斯的结构，用其内语言描述
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 内极限和余极限
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06refs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    参考文献
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../qnotes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Quick Notes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Quick Notes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/theorem_proving_in_lean_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Theorem Proving in Lean 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../qnotes/computer_vision/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Computer Vision
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Computer Vision
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/01%20Image%20Formation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    01 Image Formation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/03%20Image%20Matching%20%26%20Motion%20Estimation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    03 Image Matching & Motion Estimation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/05%20Structure%20from%20Motion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    05 Structure from Motion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/06%20Depth%20Estimation%20%26%20Dense%20Reconstruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    06 Depth Estimation & Dense Reconstruction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/07%20Recognition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    07 Recognition
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/08%203D%20Deep%20Learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    08 3D Deep Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/09%20Computational%20Photography/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    09 Computational Photography
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/10%20Image-based%20Rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    10 Image-based Rendering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../dnotes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Daily Notes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Daily Notes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0714monad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7/14 单子论和 Beck 单子性定理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0715birkhoff_duality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7/15 格论和 Birkhoff 对偶
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0716locale_frame/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7/16 用格论研究拓扑空间：Locale and Frame
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0801coq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    8/1 一个简单的 Coq 车祸课程：一阶逻辑
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 拓扑斯的语言
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-realization" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 项和公式的实现（realization）
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 拓扑斯中的命题逻辑
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 拓扑斯中的谓词逻辑
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 拓扑斯的结构，用其内语言描述
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 内极限和余极限
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="_1">第四讲 拓扑斯的内逻辑<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p>:material-circle-edit-outline: 约 8444 个字 :material-clock-time-two-outline: 预计阅读时间 28 分钟</p>
</div>
<p>在本节课中我们谈及的拓扑斯都指初等拓扑斯，除非特别指明。</p>
<h2 id="41">4.1 拓扑斯的语言<a class="headerlink" href="#41" title="Permanent link">&para;</a></h2>
<p>如果你想要研究实数域，你首先需要处理具体的数，例如 <span class="arithmatex">\(5\)</span>，<span class="arithmatex">\(\frac 2 3\)</span>，<span class="arithmatex">\(\pi\)</span>，<span class="arithmatex">\(\sqrt 2\)</span> 等等。我们将它们称为类型 <span class="arithmatex">\(\R\)</span> 的常元（constants of type <span class="arithmatex">\(\R\)</span>）：因此，这样的常量的个数与实数的个数相同。但是，你也需要处理类似这样的公式：</p>
<div class="arithmatex">\[
a \times (b + c) = (a \times b) + (a \times c)
\]</div>
<p>其中 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span>，<span class="arithmatex">\(c\)</span> 表示任意的、未指明的实数。我们称 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span>，<span class="arithmatex">\(c\)</span> 为类型 <span class="arithmatex">\(\R\)</span> 的变元（variables of type <span class="arithmatex">\(\R\)</span>）。因为你能写下的一个公式是一个符号组成的有限序列，你每次只需要有限个（当然，可能非常多个）这样的变量……因此，想要写下所有关于实数的可能公式，一个可列的变量集完全够用。因此，变量的个数与 <span class="arithmatex">\(\R\)</span> 中元素的个数毫无关系。注意，哪怕你只想讨论单元素集，你也有可能用到两个不同的变量，例如下面的式子表示单元素集只有一个元素：</p>
<div class="arithmatex">\[
\forall x\ \forall y\ x = y
\]</div>
<p>一个拓扑斯的语言是你能使用的所有“良定的”（well-formed）符号串的集合：现在的问题就在于，抛却写下的东西的实际含义，怎么界定何为“良定”的符号串。例如，在英语中，你被允许使用字典中的所有单词，并用符合语法规则的方式将它们组合起来，因此 <em>The prolific fork mixes yellow mathematics.</em><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> 也是一个完全良定的英语句子。</p>
<div class="admonition info">
<p class="admonition-title">定义 4.1</p>
<p>考虑拓扑斯 <span class="arithmatex">\(\mathcal E\)</span>，对每个元素 <span class="arithmatex">\(A \in \mathcal E\)</span> 它的语言给定：</p>
<ul>
<li>对每个箭头 <span class="arithmatex">\(1 \to A\)</span>，一个符号，称为一个类型 <span class="arithmatex">\(A\)</span> 的常元。</li>
<li>一个符号组成的可列集，称为类型 <span class="arithmatex">\(A\)</span> 的变元。</li>
</ul>
<p>以及各种由它们组成的形式表达式，叫做项（term）和公式（formula），见下面的定义 4.2 和 4.3。</p>
</div>
<p>从现在开始，我们可以直觉地将类型 <span class="arithmatex">\(A\)</span> 的常元和变元（更广泛的，所有类型 <span class="arithmatex">\(A\)</span> 的项，如 4.2 所述）视作 <span class="arithmatex">\(A\)</span> 的形式内元素。我们说这是形式的，是因为直到现在为止，它们只存在于我们的想象当中，它们（尚且）并不与拓扑斯中的任何对象或者箭头相对应。直觉地说，我们希望将拓扑斯的元素视作某种广义的集合。例如，在一个宇性拓扑斯中，层是某种带有“不同水平上”的元素的广义集合。准此原则，如果 <span class="arithmatex">\(A\)</span> 上面有，比方说，加法 <span class="arithmatex">\(+: A \times A \to A\)</span>，我们当然希望谈论形式内元素 <span class="arithmatex">\(a + b\)</span>，其中 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span> 为类型 <span class="arithmatex">\(A\)</span> 的变元或者常元。如果 <span class="arithmatex">\(f: A \to B\)</span> 是一个态射，我们希望能够谈论类型 <span class="arithmatex">\(B\)</span> 的形式内元素 <span class="arithmatex">\(f(a)\)</span>。以此类推。我们希望补充的这些额外的类型 <span class="arithmatex">\(A\)</span> 或者类型 <span class="arithmatex">\(B\)</span> 的形式元素被称为类型 <span class="arithmatex">\(A\)</span> 或者类型 <span class="arithmatex">\(B\)</span> 的项。定义 4.2 会递归地定义我们在一个拓扑斯中所能考虑的所有可能的项，也就是所有我们能想到的可行的直觉地表示形式内元素的形式表达式。</p>
<p>接下来，假定 <span class="arithmatex">\(A\)</span> 有一个内在的群结构，因此，加法是结合的，我们自然希望通过“对于所有类型 <span class="arithmatex">\(A\)</span> 的形式内元素 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span>，<span class="arithmatex">\(c\)</span>，都有 <span class="arithmatex">\((a + b) + c = a + (b + c)\)</span> 成立”来表达这种结合性。这样一个内部元素之间的形式表达式不再是一个形式元素了：它直觉地表达了包含 <span class="arithmatex">\(a + b\)</span>，<span class="arithmatex">\(b + c\)</span> 等等的项的某种形式上的性质。但是一个公式，直到现在，在拓扑斯中还毫无意义。定义 4.3 会递归地定义我们希望在一个拓扑斯内使用的所有公式。</p>
<p>另外，在公式中，我们还希望使用诸如 <span class="arithmatex">\(\wedge\)</span>，<span class="arithmatex">\(\vee\)</span>，<span class="arithmatex">\(\implies\)</span>，<span class="arithmatex">\(\exists a\)</span> 或者 <span class="arithmatex">\(\forall a\)</span> 等等的数学符号。类似于经典逻辑的说法，在 <span class="arithmatex">\(\exists a\)</span> 或者 <span class="arithmatex">\(\forall a\)</span> 这样的量词中出现的变元被称为受限变元（bound variable），不在量词中出现的变元被称为自由变元（free variable）。</p>
<p>在定义写下项和公式的定义之前，不妨再次回忆一下，在一个拓扑斯中，类型 <span class="arithmatex">\(\Omega^A\)</span> 的常元，即形如 <span class="arithmatex">\(1 \to \Omega^A\)</span> 的态射，与形如 <span class="arithmatex">\(A \to \Omega\)</span> 的态射之间是有一个双射的，因此，也与 <span class="arithmatex">\(A\)</span> 的子对象之间有一个双射。这样，<span class="arithmatex">\(\Omega^A\)</span> 在形式上应当被认为是“A 的子对象的对象”：一个类型 <span class="arithmatex">\(\Omega^A\)</span> 的常元代表了 <span class="arithmatex">\(A\)</span> 的一个实际的子对象，一个类型 <span class="arithmatex">\(\Omega^A\)</span> 的变元可以被认为代表了 <span class="arithmatex">\(A\)</span> 的一个形式内子对象。</p>
<p>为了避免下面这些定义的核心被一些不必要的关于自由变元的细节掩盖，我们在此省略了这些细节，读者可以参考文献 [4] 的定义 6.1.1，那里有更为精确的定义。</p>
<div class="admonition info">
<p class="admonition-title">定义 4.2</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，内语言的项被递归地定义如下：</p>
<ol>
<li>类型 <span class="arithmatex">\(A\)</span> 的常元是类型 <span class="arithmatex">\(A\)</span> 的项；</li>
<li>类型 <span class="arithmatex">\(A\)</span> 的变元是类型 <span class="arithmatex">\(A\)</span> 的项；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 是类型 <span class="arithmatex">\(A\)</span> 的项，<span class="arithmatex">\(f: A \to B\)</span> 是 <span class="arithmatex">\(\mathcal E\)</span> 中的一个态射，那么 <span class="arithmatex">\(f(\tau)\)</span> 是一个类型 <span class="arithmatex">\(B\)</span> 的项；</li>
<li>如果 <span class="arithmatex">\(\tau_1, \cdots, \tau_n\)</span> 分别为类型 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的项，那么 <span class="arithmatex">\((\tau_1, \cdots, \tau_n)\)</span> 是类型 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 的项；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 是一个类型 <span class="arithmatex">\(A\)</span> 的项，带有类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span>；<span class="arithmatex">\(\sigma_1, \cdots, \sigma_n\)</span> 是类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的不含 <span class="arithmatex">\(\tau\)</span> 中的受限变元的项，则 <span class="arithmatex">\(\tau(\sigma_1, \cdots, \sigma_n)\)</span> 仍然是类型 <span class="arithmatex">\(A\)</span> 的一个项；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个带有自由变元 <span class="arithmatex">\(a_1, \cdots, a_n, b_1, \cdots, b_m\)</span> 的公式，类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n, B_1, \cdots, B_m\)</span>，则 <span class="arithmatex">\(\{(a_1, \cdots, a_n) | \varphi(a_1, \cdots, a_n, b_1, \cdots, b_m)\}\)</span> 是一个类型 <span class="arithmatex">\(\Omega^{A_1 \times \cdots \times A_n}\)</span> 的项。</li>
</ol>
</div>
<div class="admonition info">
<p class="admonition-title">定义 4.3</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，内语言的公式被递归地定义如下：</p>
<ol>
<li>符号 <span class="arithmatex">\(\mathsf{true}\)</span> 和 <span class="arithmatex">\(\mathsf{false}\)</span> 是公式；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 和 <span class="arithmatex">\(\sigma\)</span> 都是类型 <span class="arithmatex">\(A\)</span> 的项，那么 <span class="arithmatex">\(\tau = \sigma\)</span> 是一个公式；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 是一个类型 <span class="arithmatex">\(A\)</span> 的项，<span class="arithmatex">\(\Sigma\)</span> 是一个类型 <span class="arithmatex">\(\Omega^A\)</span> 的项，那么 <span class="arithmatex">\(\tau \in Sigma\)</span> 是一个公式；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个公式，那么 <span class="arithmatex">\(\lnot \varphi\)</span> 也是一个公式；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span> 都是公式，那么 <span class="arithmatex">\(\varphi \wedge \psi\)</span>，<span class="arithmatex">\(\varphi \vee \psi\)</span> 和 <span class="arithmatex">\(\varphi \implies \psi\)</span> 都是公式；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个带有自由变元 <span class="arithmatex">\(a, b_1, \cdots, b_n\)</span> 的公式，它们类型分别是 <span class="arithmatex">\(A, B_1, \cdots, B_n\)</span>，则 <span class="arithmatex">\(\exists a \varphi(a, b_1, \cdots, b_n)\)</span> 和 <span class="arithmatex">\(\forall a \varphi(a, b_1, \cdots, b_n)\)</span> 都是带有自由变元 <span class="arithmatex">\(b_1, \cdots b_n\)</span> 的公式。</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个带有自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式，类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span>，<span class="arithmatex">\(\sigma_1, \cdots, \sigma_n\)</span> 是类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的项，带有同为 <span class="arithmatex">\(b_1, \cdots, b_m\)</span>，类型分别为 <span class="arithmatex">\(B_1, \cdots, B_m\)</span> 的自由变元，则 <span class="arithmatex">\(\varphi(\sigma_1(b_1, \cdots, b_m), \cdots, \sigma_n(b_1, \cdots, b_m))\)</span> 是一个带有自由变元 <span class="arithmatex">\(b_1, \cdots, b_m\)</span> 的公式。</li>
</ol>
</div>
<p>注意，上面对于两个公式或者项具备相同自由变量的假设并不是什么真正意义上的限制，因为把某个给定变量当成一个公式或者项的自由变量并不会造成什么问题……哪怕它没有在那个公式或者项中显式出现。</p>
<p>当然，一如既往地，<span class="arithmatex">\(\exists !x\ \varphi(x)\)</span> 是下面的表达式的缩写：</p>
<div class="arithmatex">\[
(\exists x \ \varphi(x)) \wedge ((\varphi(y) \wedge \varphi(z)) \implies (y = z))
\]</div>
<p>换句话说，这一小节旨在表明，拓扑斯的语言事实上正是模仿了集合论的通常语言。但是直到现在为止，这只是一种填字游戏，你通过将一些形式符号并置在一起来构造句子（公式或者项）。但是只有那些在定义 4.2 和 4.3 中所述的“字典”和“语法”中的句子才是良定的，因此，诸如：</p>
<div class="arithmatex">\[
\exists a \ \forall b \ (\lnot(a = a)) \wedge (a = b)
\]</div>
<p>是我们语言中的一个完美（但愚蠢）的良定的句子……</p>
<h2 id="42-realization">4.2 项和公式的实现（realization）<a class="headerlink" href="#42-realization" title="Permanent link">&para;</a></h2>
<p>让我们回到实数的例子上来。给定有理数 <span class="arithmatex">\(a\)</span> 和自然数 <span class="arithmatex">\(b\)</span>，我们可以构造一个实数 <span class="arithmatex">\(b^{a\pi}\)</span>。用 4.1 节的话说，<span class="arithmatex">\(b^{a\pi}\)</span> 就是一个类型 <span class="arithmatex">\(\R\)</span> 的项，带有类型 <span class="arithmatex">\(\mathbb Q\)</span> 的变元 <span class="arithmatex">\(a\)</span> 和类型 <span class="arithmatex">\(\N\)</span> 的变元 <span class="arithmatex">\(b\)</span>。这样的一个项诱导了映射：</p>
<div class="arithmatex">\[
\mathbb Q \times \N \to \R, (a, b) \mapsto b^{a\pi}
\]</div>
<p>这个映射就是我们所谓的项 <span class="arithmatex">\(b^{a\pi}\)</span> 的实现。通过这个过程，我们将 <span class="arithmatex">\(\mathsf{Set}\)</span> 中类型 <span class="arithmatex">\(\R\)</span> 的一个形式的项和集合拓扑斯中的一个良定的态射联系了起来。</p>
<p>准此思路，对于一个拓扑斯中的每个形式的项，我们都可以分派一个实际的同态。对于每个类型 <span class="arithmatex">\(A\)</span> 的项 <span class="arithmatex">\(\tau\)</span>，其自由变元为类型分别是 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的 <span class="arithmatex">\(a_1, \cdots, a_n\)</span>，我们为其指派一个“实现”态射<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>：</p>
<div class="arithmatex">\[
\lceil \tau \rceil: A_1 \times \cdots \times A_n \to A
\]</div>
<p>同样的，定义依然是递归的。为了简短起见，我们直接继承定义 4.2 中的符号和计数：</p>
<div class="admonition info">
<p class="admonition-title">定义 4.4</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，继承定义 4.2 中的记号和标号，项 <span class="arithmatex">\(\tau\)</span> 的实现 <span class="arithmatex">\(\lceil \tau \rceil\)</span> 被递归地定义如下：</p>
<ol>
<li>常元的实现是它自身；</li>
<li>类型 <span class="arithmatex">\(A\)</span> 的变元的实现是 <span class="arithmatex">\(A\)</span> 上的恒同态射；</li>
<li><span class="arithmatex">\(\lceil f(\tau) \rceil = f \circ \lceil \tau \rceil\)</span>；</li>
<li><span class="arithmatex">\(\lceil (\tau_1, \cdots, \tau_n) \rceil\)</span> 的实现是 <span class="arithmatex">\((\lceil \tau_1 \rceil, \cdots, \lceil \tau_n \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \tau(\sigma_1, \cdots, \sigma_n) \rceil = \lceil \tau \rceil \circ (\lceil \sigma_1 \rceil, \cdots, \lceil \sigma_n \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \{(a_1, \cdots, a_n) | \varphi\} \lceil\)</span> 是一个 <span class="arithmatex">\(B_1 \times \cdots \times B_m \to \Omega^{A_1 \times \cdots \times A_n}\)</span> 的态射，通过笛卡尔闭性（见定义 4.5）与 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 对应。</li>
</ol>
</div>
<p>接下来，让我们再次回到 <span class="arithmatex">\(\mathsf{Set}\)</span> 中的实数上来，考虑，例如，公式 <span class="arithmatex">\(a + b = c\)</span>，它有三个带有类型 <span class="arithmatex">\(\R\)</span> 的变元。这自然地给出了一个映射：</p>
<div class="arithmatex">\[
\R \times \R \times \R \to \{\mathsf{false}, \mathsf{true}\}
\]</div>
<p>将一个具体的实数三元组 <span class="arithmatex">\((a, b, c)\)</span> 映到 <span class="arithmatex">\(a + b = c\)</span> 的真值。这个映射是我们所谓的公式 <span class="arithmatex">\(a + b = c\)</span> 的真值表。如前所属，在集合拓扑斯中，<span class="arithmatex">\(\{\mathsf{false}, \mathsf{true}\}\)</span> 不过就是 <span class="arithmatex">\(\Omega\)</span>，我们的子对象分类子。被这个真值表分类出来的对象也就是满足 <span class="arithmatex">\(a + b = c\)</span> 的三元组所构成的集合。</p>
<p>我们已经多次发现，在一个宇性拓扑斯中，对象 <span class="arithmatex">\(\Omega\)</span> 在某种程度上扮演了“真值的对象”的角色。例如，考虑定义 2.3 中的 <span class="arithmatex">\(= : A \times A \to \Omega\)</span>，给定 <span class="arithmatex">\(A(u)\)</span> 中的 <span class="arithmatex">\(a, b\)</span>，元素 <span class="arithmatex">\(=_u(a, b)\)</span> 是 <span class="arithmatex">\(a = b\)</span> 的真值，是满足 <span class="arithmatex">\(a\)</span> 和 <span class="arithmatex">\(b\)</span> 相等的条件下的最高层级。态射 <span class="arithmatex">\(=\)</span> 因此也就是公式 <span class="arithmatex">\(a = b\)</span> 的某种“真值表”。以此类推，现在，我们要给每个带有类型 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式 <span class="arithmatex">\(\varphi\)</span> 一个“真值表”态射：</p>
<div class="arithmatex">\[
\lceil \varphi \rceil: A_1 \times \cdots A_n \to \Omega 
\]</div>
<p>被这个真值表分类的子对象 <span class="arithmatex">\([\varphi] \rightarrowtail A_1 \times \cdots \times A_n\)</span> 也可以被更明确地写成下面的形式：</p>
<div class="arithmatex">\[
\{(a_1, \cdots, a_n) | \varphi(a_1, \cdots a_n)\} \rightarrowtail A_1 \times \cdots \times A_n
\]</div>
<p>当然，这和定义 4.2 是一致的。</p>
<p>我们的定义依然是递归地进行的，这次不仅仅要诉诸定义 4.3 的符号和标号：</p>
<div class="admonition info">
<p class="admonition-title">定义 4.5</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，继承定义 4.3 的符号和编号，应用定义 2.5、定义 2.5、定理 2.23、定义 2.12 的各种构造，公式 <span class="arithmatex">\(\varphi\)</span> 的真值表 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 被递归地定义为：</p>
<ol>
<li><span class="arithmatex">\(\lceil \mathsf{true} \rceil = t\)</span>，<span class="arithmatex">\(\lceil \mathsf{false}\rceil = f\)</span>；</li>
<li><span class="arithmatex">\(\lceil \tau = \sigma \rceil = (=_A) \circ (\lceil \tau \rceil, \lceil \sigma \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \tau \in \Sigma \rceil\)</span> = <span class="arithmatex">\((\in_A) \circ (\lceil \tau \rceil, \lceil \Sigma \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \lnot \varphi \rceil = \lnot \circ \lceil \varphi \rceil\)</span>；</li>
<li><span class="arithmatex">\(\lceil \varphi \wedge \psi \rceil = \wedge \circ (\lceil \varphi \rceil, \lceil \psi \rceil)\)</span>，<span class="arithmatex">\(\lceil \varphi \vee \psi \rceil = \vee \circ (\lceil \varphi \rceil, \lceil \psi \rceil)\)</span>，<span class="arithmatex">\(\lceil \varphi \implies \psi \rceil = (\implies) \circ (\lceil \varphi \rceil, \lceil \psi \rceil)\)</span>；</li>
<li>在 4.3.6 中，考虑投影 <span class="arithmatex">\(p: A \times B_1 \times \cdots \times B_n \to B_1 \times \cdots \times B_n\)</span> 和由 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 分类的子对象 <span class="arithmatex">\([\varphi] \rightarrowtail A \times B_1 \times \cdots \times B_n\)</span>，则 <span class="arithmatex">\(\lceil \exists a\ \varphi(a, b_1, \cdots, b_n) \rceil\)</span> 和 <span class="arithmatex">\(\lceil \forall a \ \varphi(a, b_1, \cdots, b_n) \rceil\)</span> 分别为 <span class="arithmatex">\(\exists_p [\varphi]\)</span> 和 <span class="arithmatex">\(\forall_p [\varphi]\)</span> 的特征态射；</li>
<li><span class="arithmatex">\(\lceil \varphi(\sigma_1, \cdots, \sigma_n) \rceil = \lceil \varphi \rceil \circ (\lceil \sigma_1 \rceil, \cdots, \lceil \sigma_n \rceil)\)</span>。</li>
</ol>
</div>
<p>当然，<span class="arithmatex">\(\mathsf{true}\)</span> 和 <span class="arithmatex">\(\mathsf{false}\)</span> 是没有自由变元的公式。如果把它们视作带有（未出现的）类型 <span class="arithmatex">\(A\)</span> 的自由变元 <span class="arithmatex">\(a\)</span> 的公式，对应的真值表可以被简单地写成：</p>
<div class="arithmatex">\[
\mathsf{true}: A \to \mathbf 1 \stackrel t \to \Omega, \quad \mathsf{false}: A \to \mathbf 1 \stackrel f \to \Omega
\]</div>
<p>在有可能造成混淆的情况下，将其记为 <span class="arithmatex">\(\mathsf{true}_A\)</span> 和 <span class="arithmatex">\(\mathsf{false}_A\)</span>。</p>
<p>最后，我们以一个显然但有用的观察作为这一节的尾声：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.6</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，考虑两个具备相同的类型为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span>，将由 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 和 <span class="arithmatex">\(\lceil \psi \rceil\)</span> 分类的 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 中的子对象分别记作 <span class="arithmatex">\([\varphi]\)</span> 和 <span class="arithmatex">\([\psi]\)</span>，则由</p>
<div class="arithmatex">\[
\lceil \mathsf{true} \rceil, \quad \lceil \mathsf{false} \rceil, \quad \lceil \varphi \wedge \psi \rceil, \quad \lceil \varphi \vee \psi \rceil, \quad \lceil \varphi \implies \psi \rceil, \quad \lceil \lnot \varphi \rceil
\]</div>
<p>所分类的 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 中的子对象不外乎是其子对象规程的 Heyting 代数中的</p>
<div class="arithmatex">\[
A_1 \times \cdots \times A_n, \quad 0, \quad [\varphi] \wedge [\psi], \quad [\varphi] \vee [\psi], \quad [\varphi] \implies [\psi], \quad \lnot [\varphi]
\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>由定义直接得出。</p>
</details>
<h2 id="43">4.3 拓扑斯中的命题逻辑<a class="headerlink" href="#43" title="Permanent link">&para;</a></h2>
<p>下面我们需要说明，什么叫某个公式是真的，并且推断出拓扑斯的内逻辑中有效的推理规则。</p>
<div class="admonition info">
<p class="admonition-title">定义 4.7</p>
<p>（4.7）在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，设 <span class="arithmatex">\(\varphi\)</span> 是一个带有类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式，我们说这个公式为真当且仅当 <span class="arithmatex">\(\lceil \varphi \rceil = \lceil \mathsf{true} \rceil\)</span>，记作 <span class="arithmatex">\(\models \varphi\)</span>。这也就是说，<span class="arithmatex">\(\lceil \varphi \rceil\)</span> 分类的子对象就是 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 本身。</p>
</div>
<div class="admonition success">
<p class="admonition-title">定理 4.8</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，直觉主义谓词逻辑的公理全部成立。也就是说，给定三个带有相同自由变元的公式 <span class="arithmatex">\(\varphi, \psi, \theta\)</span>，以下性质成立：</p>
<div class="arithmatex">\[\begin{aligned}
(P1) &amp; \models \varphi \implies (\psi \implies \varphi)\\
(P2) &amp; \models (\varphi \implies (\psi \implies \theta)) \implies ((\varphi \implies \psi) \implies (\varphi \implies \theta))\\
(P3) &amp; \models \varphi \implies (\psi \implies (\varphi \wedge \psi))\\
(P4) &amp; \models \varphi \wedge \psi \implies \varphi\\
(P5) &amp; \models \varphi \wedge \psi \implies \psi\\
(P6) &amp; \models \varphi \implies (\varphi \vee \psi)\\
(P7) &amp; \models \psi \implies (\varphi \vee \psi)\\
(P8) &amp; \models (\varphi \implies \theta) \implies ((\varphi \implies \theta) \implies ((\varphi \vee \psi) \implies \theta))\\
(P9) &amp; \models (\varphi \implies \psi) \implies ((\varphi \implies \lnot \psi) \implies \lnot \varphi)\\
(P10) &amp; \models \lnot \varphi \implies (\varphi \implies \psi)\\
(P11) &amp;\ 若\ \models \varphi\ 且 \ \models \varphi \implies \psi\ 则\ \models \psi\ \text{（肯定前件，modus ponens）}
\end{aligned}\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>假定 <span class="arithmatex">\(\varphi, \psi, \theta\)</span> 的自由变元为类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span>。由定义 4.7 和命题 4.6，我们只要表明由这些公式分类的 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 的子对象就是 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 自身。</p>
<p>事实上，<span class="arithmatex">\((P1)\)</span> 到 <span class="arithmatex">\((P11)\)</span> 在任意 Heyting 代数中都成立（见定义 2.17）。例如，如果 <span class="arithmatex">\(a, b\)</span> 是 Heyting 代数 <span class="arithmatex">\(H\)</span> 中的两个元素，证明 <span class="arithmatex">\((P1)\)</span> 就是要表明：</p>
<div class="arithmatex">\[
1 = (a \implies (b \implies a))
\]</div>
<p>当然，这也就等价于证明：</p>
<div class="arithmatex">\[
1 \leqslant (a \implies (b \implies a))
\]</div>
<p>即：</p>
<div class="arithmatex">\[
a = 1 \wedge a \leqslant b \implies a
\]</div>
<p>这进一步地等价于证明：</p>
<div class="arithmatex">\[
a \wedge b \leqslant a
\]</div>
<p>而这是显然的。</p>
</details>
<p>肯定前件规则是一条有效的公式之间的推断规则，它自己不是一个有效的公式。</p>
<p>参考文献 [4] 中的 6.7 节给出了一个从定理 4.8 可以导出的有效公式和推断规则的冗长列表。</p>
<p>下面的命题强调了它与经典逻辑的第一个重大区别；亦见例子 4.11。</p>
<div class="admonition success">
<p class="admonition-title">命题 4.9</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，令 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span> 为两个带有相同自由变元的公式：</p>
<ul>
<li>若 <span class="arithmatex">\(\models \varphi \wedge \psi\)</span>，则 <span class="arithmatex">\(\models \varphi\)</span> <strong>且</strong> <span class="arithmatex">\(\models \psi\)</span>；</li>
<li>但若 <span class="arithmatex">\(\models \varphi \vee \psi\)</span>，在通常情况下，<span class="arithmatex">\(\models \varphi\)</span> <strong>或</strong> <span class="arithmatex">\(\models \psi\)</span> 并不成立。</li>
</ul>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>与命题 4.8 的证明类似，也不妨考虑任意 Heyting 代数 <span class="arithmatex">\(H\)</span> 中的情形。给定 <span class="arithmatex">\(a, b \in H\)</span>，当然 <span class="arithmatex">\(a \wedge b = 1\)</span> 迫使 <span class="arithmatex">\(a = 1\)</span> 且 <span class="arithmatex">\(b = 1\)</span>；但是同样显然的是，<span class="arithmatex">\(a \vee b = 1\)</span> 并不意味着两个元素中一定有一个为 <span class="arithmatex">\(1\)</span>。</p>
</details>
<p>当然，还有另外一个与经典逻辑的重大不同：排中律</p>
<div class="arithmatex">\[
\models \varphi \vee \lnot \varphi
\]</div>
<p>在拓扑斯的内逻辑中不成立。回顾 3.3 节，排中律成立当且仅当拓扑斯是布尔的。</p>
<h2 id="44">4.4 拓扑斯中的谓词逻辑<a class="headerlink" href="#44" title="Permanent link">&para;</a></h2>
<p>下面我们考虑包含量词的额外逻辑规则</p>
<div class="admonition success">
<p class="admonition-title">定理 4.10</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，所有直觉主义谓词逻辑的公理也成立。明确地说，考虑两个带有相同自由变元的公式 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span>，以及项 <span class="arithmatex">\(\tau\)</span>，以下性质成立：</p>
<div class="arithmatex">\[\begin{aligned}
(P12) &amp; \models (\forall x\ (\varphi \implies \psi)) \implies ((\forall x \ \varphi) \implies \forall x \ \psi)\\
(P13) &amp; \models (\exists x\ (\varphi \implies \psi)) \implies ((\exists x \ \varphi) \implies \exists x \ \psi)\\
(P14) &amp; \models \varphi \implies (\forall x \ \varphi)\ 若\ x\ 不是\ \varphi\ 中的一个自由变元\\
(P15) &amp; \models (\exists x \ \varphi) \implies \varphi \ 若 \ x\ 不是 \ \varphi\ 中的一个自由变元\\
(P16) &amp; \models (\forall x \ \varphi) \implies \varphi(\tau) \ 若 \ \tau \ 中不含 \ \varphi\ 的受限变元\\
&amp; \text{ 而且 $\varphi(\tau)$ 是在 $\varphi$ 中将 $x$ 用 $\tau$ 替代的结果}\\
(P17) &amp; \models  \varphi(\tau) \implies (\forall x \ \varphi) \ 若 \ \tau \ 中不含 \ \varphi\ 的受限变元\\
&amp; \text{ 而且 $\varphi(\tau)$ 是在 $\varphi$ 中将 $x$ 用 $\tau$ 替代的结果}\\
(P18) &amp;\ 若 \ \models \varphi \ 则 \ \models \forall x \ \varphi
\end{aligned}\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>为了简化记号，考虑 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span> 带有类型分别为 <span class="arithmatex">\(X\)</span> 和 <span class="arithmatex">\(A\)</span> 的自由变元 <span class="arithmatex">\(x\)</span> 和 <span class="arithmatex">\(a\)</span>。公式 <span class="arithmatex">\((P12)\)</span> 中有自由变元 <span class="arithmatex">\(a\)</span>，因此证明 <span class="arithmatex">\(P12\)</span> 就相当于证明在 <span class="arithmatex">\(A\)</span> 的子对象的 Heyting 代数中证明对应的结论。考虑投影 <span class="arithmatex">\(p: X \times A \to A\)</span>，回顾定理 2.9，我们需要证明：</p>
<div class="arithmatex">\[
A = [(\forall x\ (\varphi \implies \psi)) \implies ((\forall x \ \varphi) \implies (\forall x \ \psi))]
\]</div>
<p>也就是说：</p>
<div class="arithmatex">\[
A \leqslant [\forall x\ (\varphi \implies \psi)] \implies ([\forall x \ \varphi] \implies [\forall x\ \psi])
\]</div>
<p>根据 Heyting 代数中 <span class="arithmatex">\(\implies\)</span> 的定义，这相当于是说：</p>
<div class="arithmatex">\[
[\forall x \ (\varphi \implies \psi)] = A \wedge [\forall x \ \varphi \implies \psi] \leqslant ([\forall x\ \varphi] \implies [\forall x\ \psi])
\]</div>
<p>更进一步地：</p>
<div class="arithmatex">\[
[\forall x\ (\varphi \implies \psi)] \wedge [\forall x\ \varphi] \leqslant [\forall x \ \psi]
\]</div>
<p>再应用定理 2.9 给出的伴随对 <span class="arithmatex">\(p^{-1} \dashv \pi_p\)</span>，将其转化为：</p>
<div class="arithmatex">\[
p^{-1}([\forall x\ (\varphi \implies \psi)] \wedge [\forall x \ \varphi]) \leqslant [\psi]
\]</div>
<p>即：</p>
<div class="arithmatex">\[
p^{-1}[\forall x \ (\varphi \implies \psi)] \wedge p^{-1}[\forall x\ \varphi] \leqslant [\psi]
\]</div>
<p>伴随对 <span class="arithmatex">\(p^{-1} \dashv \pi_p\)</span> 的余单位表明，对于任意 <span class="arithmatex">\(A\)</span> 的子对象 <span class="arithmatex">\(S\)</span> 都有 <span class="arithmatex">\(p^{-1}\forall x(S) \leqslant S\)</span>。于是：</p>
<div class="arithmatex">\[
p^{-1}[\forall x \ (\varphi \implies \psi)] \wedge p^{-1}[\forall x\ \varphi] \leqslant [\varphi \implies \psi] \wedge [\varphi] = ([\varphi] \implies [\psi]) \wedge [\varphi] \leqslant [\psi]
\]</div>
<p>其它的性质的证明也是类似的。</p>
</details>
<p>同样的，在参考文献 [4] 的 6.8 节中，也有一长串能从定理 4.10 推出的有效公式列表。</p>
<p>接下来，我们用一个例子来表明在命题 4.9 中提到过的其与经典逻辑的不同。</p>
<div class="admonition info">
<p class="admonition-title">例 4.11</p>
<p>考虑实直线上的层拓扑斯。连续函数层（参见 1.2 节）满足以下命题：</p>
<div class="arithmatex">\[
\models (\exists g\ f \times g = 1) \vee (\exists g\ (1 - f) \times g = 1)
\]</div>
<p>但是以下两个命题均不成立：</p>
<div class="arithmatex">\[
\exists g\ f \times g = 1, \quad \exists g\ (1 - f) \times g = 1
\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>不妨假设 <span class="arithmatex">\(f\)</span> 为常元，即一个从 <span class="arithmatex">\(\R\)</span> 到 <span class="arithmatex">\(\R\)</span> 的连续函数。<span class="arithmatex">\(f\)</span> 为变元的证明也是类似的。</p>
<p>若存在 <span class="arithmatex">\(r \in \R\)</span> 使得 <span class="arithmatex">\(f(r) \neq 0\)</span>，则存在 <span class="arithmatex">\(r\)</span> 的一个开邻域 <span class="arithmatex">\(U_r\)</span> 其中 <span class="arithmatex">\(f(r')\)</span> 处处不为 <span class="arithmatex">\(0\)</span>。设 <span class="arithmatex">\(U\)</span> 是这种形式的 <span class="arithmatex">\(U_r\)</span> 的并，那么任意 <span class="arithmatex">\(r' \in U\)</span>，<span class="arithmatex">\(f(r') \neq 0\)</span>，因此在 <span class="arithmatex">\(U\)</span> 上只要取 <span class="arithmatex">\(g = \frac 1 f\)</span> 即可。</p>
<p>类似的，如果存在 <span class="arithmatex">\(r \in \R\)</span> 使得 <span class="arithmatex">\(f(r) \neq 1\)</span>，则存在 <span class="arithmatex">\(r\)</span> 的一个开邻域 <span class="arithmatex">\(V_r\)</span> 其中 <span class="arithmatex">\(f(r')\)</span> 处处不为 <span class="arithmatex">\(1\)</span>。取 <span class="arithmatex">\(V\)</span> 为 <span class="arithmatex">\(V_r\)</span> 的并，那么任意 <span class="arithmatex">\(r' \in V\)</span>，<span class="arithmatex">\(f(r') \neq 1\)</span>，因此在 <span class="arithmatex">\(V\)</span> 上只要取 <span class="arithmatex">\(g = \frac 1 {1 - f}\)</span> 即可。</p>
<p>显然，<span class="arithmatex">\(U \cup V = \R\)</span>，因此第一个命题成立。但是如果取一个有 <span class="arithmatex">\(f(r_1) = 0\)</span>，<span class="arithmatex">\(f(r_2) = 1\)</span> 的 <span class="arithmatex">\(f\)</span>，那么 <span class="arithmatex">\(\exists g\ f \times g = 1\)</span> 在 <span class="arithmatex">\(r_1\)</span> 的邻域不成立，<span class="arithmatex">\(\exists g\ (1 - f) \times g = 1\)</span> 在 <span class="arithmatex">\(r_2\)</span> 的邻域不成立，因此两者都不成立。</p>
</details>
<p>这个例子表明，在实直线上的层拓扑斯中，连续函数的层是一个“局部环”（local ring）：对于其中的任意元素 <span class="arithmatex">\(f\)</span>，<span class="arithmatex">\(f\)</span> 和 <span class="arithmatex">\(1 - f\)</span> 至少有一个是可逆的。这个例子也表明了存在量词的“局部性质”：元素 <span class="arithmatex">\(g\)</span> 在每个点的邻域都存在，但是通常全局的 <span class="arithmatex">\(g\)</span> 不存在。</p>
<h2 id="45">4.5 拓扑斯的结构，用其内语言描述<a class="headerlink" href="#45" title="Permanent link">&para;</a></h2>
<p>现在，我们的填字游戏进展到哪一步了？我们知道怎么构造合法的<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>项和公式；我们给它们指派了一个实际的箭头或者拓扑斯中的对象；我们也已经知道一个公式为真是什么意思了。好，现在我宣布，在我们的填字游戏中，你每次写出一个为真的公式，你就能赢得一块比利时巧克力<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>！哪怕你很喜欢比利时巧克力，恐怕你也并不乐意长时间这样玩下去。你真正感兴趣的，是去证明拓扑斯中的那些范畴论构造相关的定理：积、余等化子、指数，等等。至于形式化地玩弄前面给出来的那些规则，那是非常无聊的事，除非有时候它们在证明实际的范畴论性质时能派上用场。为了能够用这种填字游戏表示范畴论性质，我们还需要做一次翻译，把范畴论术语翻译成拓扑斯的内逻辑的说法。下面我们给出一些代表性（但并不完全）的范畴论术语的翻译：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.12</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，考虑：</p>
<ul>
<li>对象 <span class="arithmatex">\(A\)</span> 和 <span class="arithmatex">\(B\)</span>；</li>
<li>态射 <span class="arithmatex">\(f, g: A \rightrightarrows B\)</span> 和 <span class="arithmatex">\(h: B \to C\)</span>；</li>
<li>子对象 <span class="arithmatex">\(A_1 \rightarrowtail A\)</span>，<span class="arithmatex">\(A_2 \rightarrowtail A\)</span> 和 <span class="arithmatex">\(B' \rightarrowtail B\)</span>；</li>
<li>类型 <span class="arithmatex">\(A\)</span> 的变量 <span class="arithmatex">\(a, a'\)</span>，类型 <span class="arithmatex">\(B\)</span> 的变量 <span class="arithmatex">\(b\)</span> 和类型 <span class="arithmatex">\(C\)</span> 的变量 <span class="arithmatex">\(c\)</span>；</li>
</ul>
<p>以下性质成立：</p>
<ol>
<li><span class="arithmatex">\(f = g\)</span> 当且仅当 <span class="arithmatex">\(\models f(a) = g(a)\)</span>；</li>
<li><span class="arithmatex">\(f\)</span> 是一个单同态当且仅当 <span class="arithmatex">\(\models (f(a) = f(a')) \implies (a = a')\)</span>；</li>
<li><span class="arithmatex">\(f\)</span> 是一个满同态当且仅当 <span class="arithmatex">\(\models \exists a \ f(a) = b\)</span>；</li>
<li><span class="arithmatex">\(A_1 \cap A_2 = \{a | (a \in A_1) \wedge (a \in A_2)\}\)</span>；</li>
<li><span class="arithmatex">\(A_1 \cup A_2 = \{a | (a \in A_1) \vee (a \in A_2)\}\)</span>；</li>
<li><span class="arithmatex">\(\mathrm{Im}\ \Sigma_f(A_1) = \{b | \exists a((a \in A_1) \wedge (b = f(a)))\}\)</span>；</li>
<li><span class="arithmatex">\(\pi_f(A_1) = \{b | \forall a ((f(a) = b) \implies (a \in A_1))\}\)</span>；</li>
<li><span class="arithmatex">\(f^{-1}(B') = \{a | f(a) \in B'\}\)</span>；</li>
<li><span class="arithmatex">\(\mathrm{Im}\ (f) = \{b | \exists a\ f(a) = b\}\)</span>；</li>
<li><span class="arithmatex">\(\mathrm{Ker}\ (f, g) = \{a | f(a) = g(a)\}\)</span>；</li>
<li><span class="arithmatex">\(f \times_B h = \{(a, c) | f(a) = h(c)\}\)</span>，指 <span class="arithmatex">\(f\)</span> 和 <span class="arithmatex">\(h\)</span> 的拉回。</li>
</ol>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>我们先证明第一个命题。根据态射 <span class="arithmatex">\(=\)</span> 的定义，子对象 <span class="arithmatex">\([f(a) = g(a)]\)</span> 是 <span class="arithmatex">\(B\)</span> 沿 <span class="arithmatex">\((f, g)\)</span> 的对角线的原像，即等化子 <span class="arithmatex">\(\mathrm{Ker}\ (f, g)\)</span>。当然，<span class="arithmatex">\(\mathrm{Ker}\ (f, g) = A\)</span> 等价于 <span class="arithmatex">\(f = g\)</span>。</p>
<p>满射的情形也需要单独拿出来强调一下。由存在量词的定义，我们有如下交换图：</p>
<p><center><!-- This file was generated by dvisvgm 3.4.3 --><svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='198.188065pt' height='72.007502pt' viewBox='-68.682443 -72.000007 198.188065 72.007502'><defs><path id='g1-2' d='M4.881694-3.270735C4.958406-3.347447 4.979328-3.38929 4.979328-3.438107C4.979328-3.549689 4.888667-3.612453 4.811955-3.612453C4.742217-3.612453 4.721295-3.591532 4.637609-3.507846L3.110336-1.987547L1.57609-3.514819C1.506351-3.584558 1.478456-3.612453 1.415691-3.612453C1.318057-3.612453 1.241345-3.535741 1.241345-3.438107C1.241345-3.375342 1.262267-3.354421 1.345953-3.270735L2.866252-1.750436L1.345953-.230137C1.248319-.132503 1.241345-.097634 1.241345-.055791C1.241345 .041843 1.318057 .118555 1.415691 .118555C1.478456 .118555 1.499377 .097634 1.57609 .020922L3.110336-1.506351L4.700374 .083686C4.735243 .104608 4.770112 .118555 4.811955 .118555C4.888667 .118555 4.979328 .055791 4.979328-.055791C4.979328-.111582 4.96538-.125529 4.944458-.146451C4.930511-.174346 3.577584-1.527273 3.354421-1.743462L4.881694-3.270735Z'/><path id='g4-65' d='M3.62142-3.43213C3.601494-3.536737 3.581569-3.566625 3.47198-3.566625C3.352428-3.566625 3.32254-3.526775 3.272727-3.452055L1.32005-.622665C1.110834-.318804 .936488-.239103 .612702-.224159C.518057-.219178 .518057-.089664 .518057-.084682C.518057-.014944 .577833 0 .597758 0C.667497 0 .752179-.014944 .821918-.014944C.9066-.014944 .991283-.019925 1.075965-.019925C1.17061-.019925 1.260274-.014944 1.349938-.014944S1.544209 0 1.633873 0C1.668742 0 1.753425 0 1.753425-.139477C1.753425-.219178 1.678705-.224159 1.65878-.224159C1.618929-.224159 1.424658-.234122 1.424658-.353674C1.424658-.41345 1.484433-.498132 1.519303-.547945L1.882939-1.080946C1.907846-1.110834 1.912827-1.115816 2.007472-1.115816H3.516812C3.526775-1.05604 3.531756-1.031133 3.5467-.971357C3.561644-.881694 3.66127-.383562 3.66127-.333748C3.66127-.224159 3.347447-.224159 3.32254-.224159C3.247821-.224159 3.16812-.224159 3.16812-.084682C3.16812-.034869 3.202989 0 3.257783 0C3.362391 0 3.481943-.014944 3.591532-.014944C3.711083-.014944 3.825654-.019925 3.945205-.019925C4.049813-.019925 4.159402-.014944 4.26401-.014944C4.363636-.014944 4.478207 0 4.577833 0C4.662516 0 4.697385-.059776 4.697385-.139477C4.697385-.224159 4.617684-.224159 4.547945-.224159C4.219178-.224159 4.214197-.259029 4.194271-.368618L3.62142-3.43213ZM3.173101-2.953923L3.476961-1.339975H2.062267L3.173101-2.953923Z'/><path id='g4-66' d='M1.235367-.41345C1.195517-.26401 1.190535-.224159 .811955-.224159C.682441-.224159 .60274-.224159 .60274-.084682C.60274 0 .682441 0 .767123 0H2.933998C3.830635 0 4.557908-.557908 4.557908-1.05604C4.557908-1.364882 4.268991-1.69863 3.591532-1.783313C4.084682-1.84807 4.787049-2.176837 4.787049-2.674969C4.787049-3.0934 4.293898-3.402242 3.616438-3.402242H1.574097C1.479452-3.402242 1.399751-3.402242 1.399751-3.262765C1.399751-3.178082 1.464508-3.178082 1.58406-3.178082C1.633873-3.178082 1.798257-3.178082 1.902864-3.148194C1.902864-3.088418 1.902864-3.078456 1.88792-3.023661L1.235367-.41345ZM2.07721-1.853051L2.366127-3.013699C2.405978-3.16812 2.405978-3.178082 2.615193-3.178082H3.526775C4.019925-3.178082 4.254047-2.924035 4.254047-2.660025C4.254047-2.256538 3.716065-1.853051 3.01868-1.853051H2.07721ZM1.838107-.224159C1.798257-.224159 1.728518-.224159 1.678705-.234122C1.683686-.273973 1.683686-.283935 1.693649-.323786L2.032379-1.683686H3.247821C3.755915-1.683686 4.009963-1.389788 4.009963-1.075965C4.009963-.592777 3.417186-.224159 2.799502-.224159H1.838107Z'/><path id='g6-1' d='M3.493898-4.811955C3.424159-4.937484 3.403238-4.972354 3.263761-4.972354C3.180075-4.972354 3.110336-4.951432 3.047572-4.839851L.474222-.167372C.425405-.09066 .425405-.076712 .425405-.069738C.425405 0 .481196 0 .592777 0H5.941719C6.0533 0 6.109091 0 6.109091-.069738C6.109091-.076712 6.109091-.09066 6.060274-.167372L3.493898-4.811955ZM3.033624-4.288917L5.083935-.571856H.983313L3.033624-4.288917Z'/><path id='g6-40' d='M2.475716-5.230386C1.150685-4.29589 .801993-2.817435 .801993-1.750436C.801993-.767123 1.094894 .760149 2.475716 1.736488C2.531507 1.736488 2.615193 1.736488 2.615193 1.652802C2.615193 1.610959 2.594271 1.597011 2.545455 1.548194C1.617933 .711333 1.276214-.474222 1.276214-1.743462C1.276214-3.626401 1.994521-4.546949 2.566376-5.063014C2.594271-5.090909 2.615193-5.111831 2.615193-5.1467C2.615193-5.230386 2.531507-5.230386 2.475716-5.230386Z'/><path id='g6-41' d='M.627646-5.230386C.578829-5.230386 .495143-5.230386 .495143-5.1467C.495143-5.111831 .516065-5.090909 .557908-5.042092C1.157659-4.491158 1.827148-3.549689 1.827148-1.750436C1.827148-.292902 1.373848 .808966 .620672 1.492403C.502117 1.610959 .495143 1.617933 .495143 1.652802S.516065 1.736488 .585803 1.736488C.669489 1.736488 1.332005 1.276214 1.792279 .404483C2.099128-.174346 2.30137-.927522 2.30137-1.743462C2.30137-2.726775 2.008468-4.254047 .627646-5.230386Z'/><path id='g6-61' d='M5.355915-2.343213C5.460523-2.343213 5.620922-2.343213 5.620922-2.517559C5.620922-2.684932 5.453549-2.684932 5.362889-2.684932H.746202C.655542-2.684932 .488169-2.684932 .488169-2.517559C.488169-2.343213 .648568-2.343213 .753176-2.343213H5.355915ZM5.362889-.808966C5.453549-.808966 5.620922-.808966 5.620922-.976339C5.620922-1.150685 5.460523-1.150685 5.355915-1.150685H.753176C.648568-1.150685 .488169-1.150685 .488169-.976339C.488169-.808966 .655542-.808966 .746202-.808966H5.362889Z'/><path id='g6-100' d='M2.48269-4.763138V-4.51208C2.949938-4.51208 3.005729-4.463263 3.005729-4.121544V-2.677958C2.747696-2.929016 2.412951-3.075467 2.02939-3.075467C1.101868-3.075467 .320797-2.378082 .320797-1.499377C.320797-.627646 1.060025 .069738 1.945704 .069738C2.517559 .069738 2.859278-.237111 2.977833-.36264V.069738L4.051806 0V-.251059C3.584558-.251059 3.528767-.299875 3.528767-.641594V-4.839851L2.48269-4.763138ZM2.977833-.732254C2.796513-.404483 2.440847-.125529 1.987547-.125529C1.597011-.125529 1.318057-.355666 1.17858-.557908C1.039103-.767123 .955417-1.046077 .955417-1.492403C.955417-1.652802 .955417-2.175841 1.241345-2.503611C1.520299-2.817435 1.862017-2.880199 2.064259-2.880199C2.399004-2.880199 2.698879-2.726775 2.894147-2.475716C2.977833-2.364134 2.977833-2.357161 2.977833-2.224658V-.732254Z'/><path id='g6-105' d='M1.471482-4.302864C1.471482-4.505106 1.30411-4.700374 1.066999-4.700374C.857783-4.700374 .669489-4.533001 .669489-4.302864C.669489-4.051806 .871731-3.898381 1.066999-3.898381C1.290162-3.898381 1.471482-4.072727 1.471482-4.302864ZM.411457-2.998755V-2.747696C.850809-2.747696 .913574-2.705853 .913574-2.364134V-.550934C.913574-.251059 .843836-.251059 .390535-.251059V0C.404483 0 .892653-.027895 1.171606-.027895C1.415691-.027895 1.66675-.020922 1.910834 0V-.251059C1.506351-.251059 1.436613-.251059 1.436613-.54396V-3.075467L.411457-2.998755Z'/><path id='g0-2' d='M3.875467-2.769614L1.882939-4.752179C1.763387-4.871731 1.743462-4.891656 1.663761-4.891656C1.564134-4.891656 1.464508-4.801993 1.464508-4.692403C1.464508-4.622665 1.484433-4.60274 1.594022-4.493151L3.58655-2.49066L1.594022-.488169C1.484433-.37858 1.464508-.358655 1.464508-.288917C1.464508-.179328 1.564134-.089664 1.663761-.089664C1.743462-.089664 1.763387-.109589 1.882939-.229141L3.865504-2.211706L5.927771-.14944C5.947696-.139477 6.017435-.089664 6.07721-.089664C6.196762-.089664 6.276463-.179328 6.276463-.288917C6.276463-.308842 6.276463-.348692 6.246575-.398506C6.236613-.418431 4.652553-1.982565 4.154421-2.49066L5.977584-4.313823C6.027397-4.373599 6.176837-4.503113 6.22665-4.562889C6.236613-4.582814 6.276463-4.622665 6.276463-4.692403C6.276463-4.801993 6.196762-4.891656 6.07721-4.891656C5.997509-4.891656 5.957659-4.851806 5.84807-4.742217L3.875467-2.769614Z'/><path id='g2-65' d='M1.783313-1.145704C1.384807-.478207 .996264-.33873 .557908-.308842C.438356-.298879 .348692-.298879 .348692-.109589C.348692-.049813 .398506 0 .478207 0C.747198 0 1.05604-.029888 1.334994-.029888C1.663761-.029888 2.012453 0 2.331258 0C2.391034 0 2.520548 0 2.520548-.18929C2.520548-.298879 2.430884-.308842 2.361146-.308842C2.132005-.328767 1.892902-.408468 1.892902-.657534C1.892902-.777086 1.952677-.886675 2.032379-1.026152L2.789539-2.30137H5.290162C5.310087-2.092154 5.449564-.737235 5.449564-.637609C5.449564-.33873 4.931507-.308842 4.732254-.308842C4.592777-.308842 4.493151-.308842 4.493151-.109589C4.493151 0 4.612702 0 4.632628 0C5.041096 0 5.469489-.029888 5.877958-.029888C6.127024-.029888 6.75467 0 7.003736 0C7.063512 0 7.183064 0 7.183064-.199253C7.183064-.308842 7.083437-.308842 6.953923-.308842C6.336239-.308842 6.336239-.37858 6.306351-.667497L5.69863-6.894147C5.678705-7.0934 5.678705-7.13325 5.50934-7.13325C5.349938-7.13325 5.310087-7.063512 5.250311-6.963885L1.783313-1.145704ZM2.978829-2.610212L4.941469-5.897883L5.260274-2.610212H2.978829Z'/><path id='g2-66' d='M1.594022-.777086C1.494396-.388543 1.474471-.308842 .687422-.308842C.518057-.308842 .418431-.308842 .418431-.109589C.418431 0 .508095 0 .687422 0H4.244085C5.818182 0 6.993773-1.175592 6.993773-2.15193C6.993773-2.86924 6.41594-3.447073 5.449564-3.556663C6.485679-3.745953 7.531756-4.483188 7.531756-5.429639C7.531756-6.166874 6.874222-6.804483 5.678705-6.804483H2.331258C2.141968-6.804483 2.042341-6.804483 2.042341-6.60523C2.042341-6.495641 2.132005-6.495641 2.321295-6.495641C2.34122-6.495641 2.530511-6.495641 2.699875-6.475716C2.879203-6.455791 2.968867-6.445828 2.968867-6.316314C2.968867-6.276463 2.958904-6.246575 2.929016-6.127024L1.594022-.777086ZM3.098381-3.646326L3.716065-6.117061C3.805729-6.465753 3.825654-6.495641 4.254047-6.495641H5.539228C6.41594-6.495641 6.625156-5.907846 6.625156-5.469489C6.625156-4.592777 5.768369-3.646326 4.552927-3.646326H3.098381ZM2.650062-.308842C2.510585-.308842 2.49066-.308842 2.430884-.318804C2.331258-.328767 2.30137-.33873 2.30137-.418431C2.30137-.448319 2.30137-.468244 2.351183-.647572L3.038605-3.427148H4.921544C5.877958-3.427148 6.067248-2.689913 6.067248-2.261519C6.067248-1.275218 5.180573-.308842 4.004981-.308842H2.650062Z'/><path id='g2-102' d='M3.656289-3.985056H4.513076C4.712329-3.985056 4.811955-3.985056 4.811955-4.184309C4.811955-4.293898 4.712329-4.293898 4.542964-4.293898H3.716065L3.92528-5.429639C3.965131-5.638854 4.104608-6.346202 4.164384-6.465753C4.254047-6.655044 4.423412-6.804483 4.632628-6.804483C4.672478-6.804483 4.931507-6.804483 5.120797-6.625156C4.682441-6.585305 4.582814-6.236613 4.582814-6.087173C4.582814-5.858032 4.762142-5.738481 4.951432-5.738481C5.210461-5.738481 5.499377-5.957659 5.499377-6.336239C5.499377-6.794521 5.041096-7.023661 4.632628-7.023661C4.293898-7.023661 3.666252-6.844334 3.367372-5.858032C3.307597-5.648817 3.277709-5.549191 3.038605-4.293898H2.351183C2.161893-4.293898 2.052304-4.293898 2.052304-4.104608C2.052304-3.985056 2.141968-3.985056 2.331258-3.985056H2.988792L2.241594-.049813C2.062267 .916563 1.892902 1.823163 1.374844 1.823163C1.334994 1.823163 1.085928 1.823163 .896638 1.643836C1.354919 1.613948 1.444583 1.255293 1.444583 1.105853C1.444583 .876712 1.265255 .757161 1.075965 .757161C.816936 .757161 .52802 .976339 .52802 1.354919C.52802 1.803238 .966376 2.042341 1.374844 2.042341C1.92279 2.042341 2.321295 1.454545 2.500623 1.075965C2.819427 .448319 3.048568-.757161 3.058531-.826899L3.656289-3.985056Z'/><path id='g3-59' d='M1.471482-.111582C1.471482 .27198 1.401743 .718306 .927522 1.164633C.899626 1.192528 .878705 1.21345 .878705 1.248319C.878705 1.297136 .934496 1.345953 .976339 1.345953C1.073973 1.345953 1.66675 .788045 1.66675-.041843C1.66675-.474222 1.499377-.801993 1.17858-.801993C.948443-.801993 .781071-.620672 .781071-.404483C.781071-.18132 .941469 0 1.185554 0C1.352927 0 1.464508-.111582 1.471482-.111582Z'/><path id='g3-102' d='M2.838356-2.75467H3.521793C3.66127-2.75467 3.75193-2.75467 3.75193-2.908095C3.75193-3.005729 3.66127-3.005729 3.535741-3.005729H2.887173C3.047572-3.891407 3.103362-4.212204 3.159153-4.414446C3.194022-4.56787 3.347447-4.714321 3.514819-4.714321C3.521793-4.714321 3.710087-4.714321 3.84259-4.630635C3.556663-4.539975 3.535741-4.288917 3.535741-4.247073C3.535741-4.093649 3.654296-3.989041 3.814695-3.989041C4.002989-3.989041 4.212204-4.14944 4.212204-4.414446C4.212204-4.735243 3.870486-4.909589 3.514819-4.909589C3.20797-4.909589 2.866252-4.735243 2.677958-4.38655C2.538481-4.128518 2.48269-3.814695 2.336239-3.005729H1.785305C1.645828-3.005729 1.555168-3.005729 1.555168-2.852304C1.555168-2.75467 1.645828-2.75467 1.771357-2.75467H2.287422C2.280448-2.712827 1.841096-.202242 1.673724 .54396C1.638854 .697385 1.520299 1.227397 1.185554 1.227397C1.17858 1.227397 1.011208 1.227397 .878705 1.143711C1.164633 1.053051 1.185554 .801993 1.185554 .760149C1.185554 .606725 1.066999 .502117 .9066 .502117C.718306 .502117 .509091 .662516 .509091 .927522C.509091 1.241345 .836862 1.422665 1.185554 1.422665C1.63188 1.422665 1.93873 .962391 2.022416 .808966C2.273474 .341719 2.433873-.516065 2.447821-.599751L2.838356-2.75467Z'/><path id='g3-105' d='M2.259527-4.358655C2.259527-4.470237 2.175841-4.623661 1.980573-4.623661C1.792279-4.623661 1.590037-4.442341 1.590037-4.2401C1.590037-4.121544 1.680697-3.975093 1.868991-3.975093C2.071233-3.975093 2.259527-4.170361 2.259527-4.358655ZM.836862-.81594C.808966-.72528 .774097-.641594 .774097-.523039C.774097-.195268 1.053051 .069738 1.436613 .069738C2.133998 .069738 2.440847-.892653 2.440847-.99726C2.440847-1.08792 2.350187-1.08792 2.329265-1.08792C2.231631-1.08792 2.224658-1.046077 2.196762-.969365C2.036364-.411457 1.729514-.125529 1.457534-.125529C1.318057-.125529 1.283188-.216189 1.283188-.369614C1.283188-.530012 1.332005-.662516 1.39477-.81594C1.464508-1.004234 1.54122-1.192528 1.617933-1.373848C1.680697-1.54122 1.931756-2.175841 1.959651-2.259527C1.980573-2.329265 2.001494-2.412951 2.001494-2.48269C2.001494-2.810461 1.72254-3.075467 1.338979-3.075467C.648568-3.075467 .327771-2.127024 .327771-2.008468C.327771-1.917808 .425405-1.917808 .446326-1.917808C.54396-1.917808 .550934-1.952677 .571856-2.02939C.753176-2.629141 1.060025-2.880199 1.318057-2.880199C1.429639-2.880199 1.492403-2.824408 1.492403-2.636115C1.492403-2.475716 1.45056-2.371108 1.276214-1.93873L.836862-.81594Z'/><path id='g3-112' d='M.523039 .850809C.474222 1.046077 .460274 1.101868 .18132 1.101868C.09066 1.101868-.006974 1.101868-.006974 1.248319C-.006974 1.325031 .055791 1.352927 .09066 1.352927C.27198 1.352927 .502117 1.325031 .690411 1.325031C.927522 1.325031 1.192528 1.352927 1.422665 1.352927C1.48543 1.352927 1.562142 1.332005 1.562142 1.199502C1.562142 1.101868 1.464508 1.101868 1.380822 1.101868C1.227397 1.101868 1.039103 1.101868 1.039103 1.018182C1.039103 .983313 1.08792 .801993 1.115816 .697385C1.199502 .327771 1.297136-.048817 1.373848-.341719C1.457534-.202242 1.673724 .069738 2.092154 .069738C2.942964 .069738 3.884433-.871731 3.884433-1.910834C3.884433-2.726775 3.319552-3.075467 2.838356-3.075467C2.405978-3.075467 2.036364-2.782565 1.84807-2.587298C1.729514-2.984807 1.338979-3.075467 1.129763-3.075467C.857783-3.075467 .690411-2.894147 .578829-2.705853C.439352-2.468742 .327771-2.050311 .327771-2.008468C.327771-1.917808 .425405-1.917808 .446326-1.917808C.54396-1.917808 .550934-1.93873 .599751-2.127024C.704359-2.531507 .836862-2.880199 1.108842-2.880199C1.290162-2.880199 1.338979-2.726775 1.338979-2.538481C1.338979-2.461768 1.325031-2.371108 1.318057-2.329265L.523039 .850809ZM1.841096-2.238605C2.245579-2.775592 2.594271-2.880199 2.817435-2.880199C3.089415-2.880199 3.326526-2.677958 3.326526-2.203736C3.326526-1.917808 3.173101-1.206476 2.963885-.801993C2.789539-.460274 2.447821-.125529 2.092154-.125529C1.597011-.125529 1.471482-.662516 1.471482-.732254C1.471482-.760149 1.48543-.808966 1.492403-.836862L1.841096-2.238605Z'/><path id='g3-113' d='M3.549689-2.873225C3.556663-2.901121 3.563636-2.942964 3.563636-2.977833C3.563636-3.019676 3.535741-3.075467 3.472976-3.075467C3.403238-3.075467 3.110336-2.838356 2.970859-2.615193C2.901121-2.75467 2.670984-3.075467 2.224658-3.075467C1.332005-3.075467 .425405-2.092154 .425405-1.08792C.425405-.411457 .878705 .069738 1.478456 .069738C1.875965 .069738 2.203736-.18132 2.357161-.313823C2.350187-.292902 2.133998 .585803 2.106102 .704359C2.008468 1.08792 2.001494 1.094894 1.569116 1.101868C1.48543 1.101868 1.387796 1.101868 1.387796 1.255293C1.387796 1.297136 1.422665 1.352927 1.492403 1.352927C1.72254 1.352927 1.980573 1.325031 2.217684 1.325031S2.747696 1.352927 2.963885 1.352927C3.02665 1.352927 3.103362 1.332005 3.103362 1.199502C3.103362 1.101868 3.005729 1.101868 2.922042 1.101868C2.768618 1.101868 2.580324 1.101868 2.580324 1.018182C2.580324 .99726 2.580324 .983313 2.615193 .864757L3.549689-2.873225ZM2.496638-.878705C2.461768-.760149 2.461768-.746202 2.371108-.63462C2.099128-.313823 1.771357-.125529 1.499377-.125529C1.241345-.125529 .990286-.306849 .990286-.801993C.990286-1.171606 1.192528-1.93873 1.352927-2.217684C1.673724-2.775592 2.02939-2.880199 2.224658-2.880199C2.712827-2.880199 2.84533-2.343213 2.84533-2.273474C2.84533-2.238605 2.831382-2.196762 2.824408-2.168867L2.496638-.878705Z'/><path id='g3-116' d='M1.715567-2.75467H2.426899C2.559402-2.75467 2.650062-2.75467 2.650062-2.908095C2.650062-3.005729 2.559402-3.005729 2.440847-3.005729H1.778331L2.036364-4.037858C2.043337-4.072727 2.057285-4.107597 2.057285-4.135492C2.057285-4.261021 1.959651-4.358655 1.820174-4.358655C1.645828-4.358655 1.54122-4.2401 1.492403-4.05878C1.443587-3.884433 1.534247-4.219178 1.227397-3.005729H.516065C.383562-3.005729 .292902-3.005729 .292902-2.852304C.292902-2.75467 .376588-2.75467 .502117-2.75467H1.164633L.753176-1.108842C.711333-.934496 .648568-.683437 .648568-.592777C.648568-.18132 .99726 .069738 1.39477 .069738C2.168867 .069738 2.608219-.9066 2.608219-.99726S2.517559-1.08792 2.496638-1.08792C2.412951-1.08792 2.405978-1.073973 2.350187-.955417C2.154919-.516065 1.799253-.125529 1.415691-.125529C1.26924-.125529 1.171606-.216189 1.171606-.467248C1.171606-.536986 1.199502-.683437 1.21345-.753176L1.715567-2.75467Z'/><path id='g5-10' d='M6.744707-1.613948H6.495641C6.445828-1.354919 6.405978-1.125778 6.316314-.886675C6.266501-.727273 6.236613-.647572 5.65878-.647572H4.861768C4.991283-1.205479 5.300125-1.683686 5.748443-2.34122C6.216687-3.048568 6.625156-3.73599 6.625156-4.523039C6.625156-5.907846 5.280199-7.023661 3.596513-7.023661C1.882939-7.023661 .557908-5.88792 .557908-4.523039C.557908-3.73599 .966376-3.048568 1.43462-2.34122C1.872976-1.683686 2.191781-1.205479 2.321295-.647572H1.524284C.946451-.647572 .916563-.727273 .86675-.876712C.787049-1.105853 .737235-1.364882 .687422-1.613948H.438356L.767123 0H2.361146C2.580324 0 2.610212 0 2.610212-.209215C2.610212-.9066 2.30137-1.783313 2.072229-2.420922C1.863014-2.998755 1.58406-3.785803 1.58406-4.533001C1.58406-6.127024 2.67995-6.804483 3.58655-6.804483C4.542964-6.804483 5.599004-6.087173 5.599004-4.533001C5.599004-3.785803 5.330012-3.028643 5.041096-2.211706C4.891656-1.793275 4.572852-.896638 4.572852-.209215C4.572852 0 4.60274 0 4.83188 0H6.41594L6.744707-1.613948Z'/><path id='g5-40' d='M3.297634 2.391034C3.297634 2.361146 3.297634 2.34122 3.128269 2.171856C1.882939 .916563 1.564134-.966376 1.564134-2.49066C1.564134-4.224159 1.942715-5.957659 3.16812-7.202989C3.297634-7.32254 3.297634-7.342466 3.297634-7.372354C3.297634-7.442092 3.257783-7.47198 3.198007-7.47198C3.098381-7.47198 2.201743-6.794521 1.613948-5.529265C1.105853-4.433375 .986301-3.327522 .986301-2.49066C.986301-1.713574 1.09589-.508095 1.643836 .617684C2.241594 1.843088 3.098381 2.49066 3.198007 2.49066C3.257783 2.49066 3.297634 2.460772 3.297634 2.391034Z'/><path id='g5-41' d='M2.879203-2.49066C2.879203-3.267746 2.769614-4.473225 2.221669-5.599004C1.62391-6.824408 .767123-7.47198 .667497-7.47198C.607721-7.47198 .56787-7.43213 .56787-7.372354C.56787-7.342466 .56787-7.32254 .757161-7.143213C1.733499-6.156912 2.30137-4.572852 2.30137-2.49066C2.30137-.787049 1.932752 .966376 .697385 2.221669C.56787 2.34122 .56787 2.361146 .56787 2.391034C.56787 2.450809 .607721 2.49066 .667497 2.49066C.767123 2.49066 1.663761 1.8132 2.251557 .547945C2.759651-.547945 2.879203-1.653798 2.879203-2.49066Z'/><path id='g5-49' d='M2.929016-6.37609C2.929016-6.615193 2.929016-6.635118 2.699875-6.635118C2.082192-5.997509 1.205479-5.997509 .886675-5.997509V-5.688667C1.085928-5.688667 1.673724-5.688667 2.191781-5.947696V-.787049C2.191781-.428394 2.161893-.308842 1.265255-.308842H.946451V0C1.295143-.029888 2.161893-.029888 2.560399-.029888S3.825654-.029888 4.174346 0V-.308842H3.855542C2.958904-.308842 2.929016-.418431 2.929016-.787049V-6.37609Z'/><path id='g5-73' d='M2.241594-6.027397C2.241594-6.386052 2.271482-6.495641 3.058531-6.495641H3.317559V-6.804483C2.968867-6.774595 2.181818-6.774595 1.803238-6.774595C1.414695-6.774595 .627646-6.774595 .278954-6.804483V-6.495641H.537983C1.325031-6.495641 1.354919-6.386052 1.354919-6.027397V-.777086C1.354919-.418431 1.325031-.308842 .537983-.308842H.278954V0C.627646-.029888 1.414695-.029888 1.793275-.029888C2.181818-.029888 2.968867-.029888 3.317559 0V-.308842H3.058531C2.271482-.308842 2.241594-.418431 2.241594-.777086V-6.027397Z'/><path id='g5-109' d='M1.09589-3.427148V-.757161C1.09589-.308842 .986301-.308842 .318804-.308842V0C.667497-.009963 1.175592-.029888 1.444583-.029888C1.703611-.029888 2.221669-.009963 2.560399 0V-.308842C1.892902-.308842 1.783313-.308842 1.783313-.757161V-2.590286C1.783313-3.626401 2.49066-4.184309 3.128269-4.184309C3.755915-4.184309 3.865504-3.646326 3.865504-3.078456V-.757161C3.865504-.308842 3.755915-.308842 3.088418-.308842V0C3.437111-.009963 3.945205-.029888 4.214197-.029888C4.473225-.029888 4.991283-.009963 5.330012 0V-.308842C4.662516-.308842 4.552927-.308842 4.552927-.757161V-2.590286C4.552927-3.626401 5.260274-4.184309 5.897883-4.184309C6.525529-4.184309 6.635118-3.646326 6.635118-3.078456V-.757161C6.635118-.308842 6.525529-.308842 5.858032-.308842V0C6.206725-.009963 6.714819-.029888 6.983811-.029888C7.242839-.029888 7.760897-.009963 8.099626 0V-.308842C7.581569-.308842 7.332503-.308842 7.32254-.607721V-2.510585C7.32254-3.367372 7.32254-3.676214 7.013699-4.034869C6.874222-4.204234 6.545455-4.403487 5.967621-4.403487C5.13076-4.403487 4.692403-3.805729 4.523039-3.427148C4.383562-4.293898 3.646326-4.403487 3.198007-4.403487C2.470735-4.403487 2.002491-3.975093 1.723537-3.35741V-4.403487L.318804-4.293898V-3.985056C1.016189-3.985056 1.09589-3.915318 1.09589-3.427148Z'/></defs><g id='page1'><g stroke-miterlimit='10' transform='translate(30.411591,-35.906321)scale(0.996264,-0.996264)'><g fill='#000' stroke='#000'><g stroke-width='0.4'><g transform='translate(-99.46564,-29.66354)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g stroke='#000' stroke-miterlimit='10' transform='translate(49.163537,-88.369983)scale(0.996264,-0.996264)'><g transform='translate(-14.51227,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(49.163537,-88.369983)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='49.163537' y='-88.369983' xlink:href='#g5-73'/><use x='52.761162' y='-88.369983' xlink:href='#g5-109'/><use x='64.380947' y='-88.369983' xlink:href='#g5-40'/><use x='68.255321' y='-88.369983' xlink:href='#g2-102'/><use x='74.205268' y='-88.369983' xlink:href='#g5-41'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(109.972187,-88.369983)scale(0.996264,-0.996264)'><g transform='translate(-3.75,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(109.972187,-88.369983)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='109.972187' y='-88.369983' xlink:href='#g2-65'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(170.467619,-88.369983)scale(0.996264,-0.996264)'><g transform='translate(-4.0434,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(170.467619,-88.369983)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='170.467619' y='-88.369983' xlink:href='#g2-66'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(220.708142,-88.369983)scale(0.996264,-0.996264)'><g transform='translate(-2.5,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(220.708142,-88.369983)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='220.708142' y='-88.369983' xlink:href='#g5-49'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(49.163537,-64.296714)scale(0.996264,-0.996264)'/><g stroke='#000' stroke-miterlimit='10' transform='translate(49.163537,-35.906321)scale(0.996264,-0.996264)'><g transform='translate(-4.0434,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(49.163537,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='49.163537' y='-35.906321' xlink:href='#g2-66'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(109.972187,-35.906321)scale(0.996264,-0.996264)'><g transform='translate(-13.90448,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(109.972187,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='109.972187' y='-35.906321' xlink:href='#g2-65'/><use x='119.658052' y='-35.906321' xlink:href='#g0-2'/><use x='129.620665' y='-35.906321' xlink:href='#g2-66'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(170.467619,-35.906321)scale(0.996264,-0.996264)'><g transform='translate(-14.19788,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(170.467619,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='170.467619' y='-35.906321' xlink:href='#g2-66'/><use x='180.738093' y='-35.906321' xlink:href='#g0-2'/><use x='190.700707' y='-35.906321' xlink:href='#g2-66'/></g></g></g></g></g><g stroke='#000' stroke-miterlimit='10' transform='translate(220.708142,-35.906321)scale(0.996264,-0.996264)'><g transform='translate(-3.61111,0.0)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(220.708142,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='220.708142' y='-35.906321' xlink:href='#g5-10'/></g></g></g></g></g></g></g><g stroke-width='0.39998'><path d='M-80.64337 14.55347V-18.56676' fill='none'/><g transform='matrix(0.0,1.0,-1.0,0.0,-80.64337,14.35349)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M2.07988 2.39986C1.69989 .95992 .85313 .27998 0 0C.85313-.27998 1.69989-.95992 2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='matrix(0.0,-1.0,1.0,0.0,-80.64337,-18.76674)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(-78.28839,-3.48265)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-105'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M-27.86668 25.49686H-61.22115' fill='none'/><g transform='matrix(-1.0,0.0,0.0,-1.0,-59.98122,25.49686)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='matrix(-1.0,0.0,0.0,-1.0,-61.42113,25.49686)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(-46.70206,20.12799)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-113'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M-11.3467 25.49686H32.16225' fill='none'/><g transform='translate(32.36223,25.49686)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(8.26572,29.21294)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-102'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M-26.98071 19.13335L-71.78719-19.52771' fill='none'/><g transform='matrix(-0.7571,-0.65324,0.65324,-0.7571,-71.93857,-19.65834)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(-47.18036,-7.54388)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-102'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M-19.60669 17.05347V-18.56676' fill='none'/><g transform='matrix(0.0,1.0,-1.0,0.0,-19.60669,16.85349)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M2.07988 2.39986C1.69989 .95992 .85313 .27998 0 0C.85313-.27998 1.69989-.95992 2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='matrix(0.0,-1.0,1.0,0.0,-19.60669,-18.76674)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(-17.25171,-1.66669)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g6-40'/><use x='33.524934' y='-35.906321' xlink:href='#g6-105'/><use x='35.78038' y='-35.906321' xlink:href='#g6-100'/><use x='40.180564' y='-34.904508' xlink:href='#g4-65'/><use x='45.839974' y='-35.906321' xlink:href='#g3-59'/><use x='48.206116' y='-35.906321' xlink:href='#g3-102'/><use x='52.8727' y='-35.906321' xlink:href='#g6-41'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M49.66899 25.49686H84.13457' fill='none'/><g transform='translate(84.33455,25.49686)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(67.10176,27.85184)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'/></g></g></g></g><g stroke-width='0.39998'><path d='M41.1156 17.05347V-18.56676' fill='none'/><g transform='matrix(0.0,1.0,-1.0,0.0,41.1156,16.85349)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M2.07988 2.39986C1.69989 .95992 .85313 .27998 0 0C.85313-.27998 1.69989-.95992 2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='matrix(0.0,-1.0,1.0,0.0,41.1156,-18.76674)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(43.47058,-1.80557)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g6-1'/><use x='36.956524' y='-34.904508' xlink:href='#g4-66'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M91.54453 17.05347V-18.56676' fill='none'/><g transform='matrix(0.0,1.0,-1.0,0.0,91.54453,16.85349)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M2.07988 2.39986C1.69989 .95992 .85313 .27998 0 0C.85313-.27998 1.69989-.95992 2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='matrix(0.0,-1.0,1.0,0.0,91.54453,-18.76674)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(93.8995,-2.06946)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-116'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M-38.02116-27.16354H-71.69002' fill='none'/><g transform='matrix(-1.0,0.0,0.0,-1.0,-71.89,-27.16354)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(-60.07597,-32.53241)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-112'/><use x='34.518548' y='-34.904508' xlink:href='#g4-66'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M-1.19221-27.16354H22.00777' fill='none'/><g transform='translate(22.20775,-27.16354)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(-1.15881,-23.44746)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g3-102'/><use x='35.078176' y='-35.906321' xlink:href='#g1-2'/><use x='41.304855' y='-35.906321' xlink:href='#g6-105'/><use x='43.560301' y='-35.906321' xlink:href='#g6-100'/><use x='47.960484' y='-34.904508' xlink:href='#g4-66'/></g></g></g></g></g><g stroke-width='0.39998'><path d='M59.82347-27.16354H83.02345' fill='none'/><g transform='translate(83.22343,-27.16354)'><g stroke-dasharray='none' stroke-dashoffset='0.0'> <g stroke-linecap='round'> <g stroke-linejoin='round'> <path d='M-2.07988 2.39986C-1.69989 .95992-.85313 .27998 0 0C-.85313-.27998-1.69989-.95992-2.07988-2.39986' fill='none'/> </g> </g> </g></g><g transform='translate(65.59476,-23.803)'><g stroke='none' transform='scale(-1.00375,1.00375)translate(30.411591,-35.906321)scale(-1,-1)'><g fill='#000'><g stroke='none'><use x='30.411591' y='-35.906321' xlink:href='#g6-61'/><use x='36.527575' y='-34.904508' xlink:href='#g4-66'/></g></g></g></g></g></g></g></g></g></svg></center>
中间的和右边的方块都是拉回，由此可以将：</p>
<div class="arithmatex">\[
(\mathrm{id}_A, f): A \rightarrowtail A \times B
\]</div>
<p>写成</p>
<div class="arithmatex">\[
\{a | f(a) = b\} \cong \{(a, b) | f(a) = b\} \rightarrowtail A \times B
\]</div>
<p>根据存在量词的定义，有：</p>
<div class="arithmatex">\[
\{b | \exists a\ f(a) = b\} = \mathrm{Im}\ (p_b \circ (\mathrm{id}_A, f)) = \mathrm{Im}\ f
\]</div>
<p>当然，<span class="arithmatex">\(\mathrm{Im}\ f = B\)</span> 当且仅当 <span class="arithmatex">\(f\)</span> 是一个满射。</p>
<p>其它陈述的证明，参见参考文献 [4] 的命题 6.10.2。</p>
</details>
<p>满射的情形还需要做一个补充：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.13</p>
<p>在宇象 <span class="arithmatex">\(L\)</span> 上的层拓扑斯中，态射 <span class="arithmatex">\(f: A \to B\)</span> 是一个满射当且仅当任取 <span class="arithmatex">\(u \in L\)</span>，<span class="arithmatex">\(b \in B(u)\)</span>，都有一个覆盖 <span class="arithmatex">\(u = \bigvee_{i \in I} u_i\)</span> 和 <span class="arithmatex">\(a_i \in A(u_i)\)</span> 使得对任意 <span class="arithmatex">\(i \in I\)</span>，<span class="arithmatex">\(f_{u_i}(a_i) = b |_{u_i}\)</span>。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>延续命题中的记号，给定 <span class="arithmatex">\(g, h: B \rightrightarrows C\)</span> 满足 <span class="arithmatex">\(gf = hf\)</span>，则 <span class="arithmatex">\(g\)</span> 和 <span class="arithmatex">\(h\)</span> 在所有 <span class="arithmatex">\(b_{u_i}\)</span> 上相等，因为 <span class="arithmatex">\(C\)</span> 是一个层，所以它们也在胶合 <span class="arithmatex">\(b\)</span> 上相等。</p>
<p>反过来，如果 <span class="arithmatex">\(f\)</span> 是 <span class="arithmatex">\(\mathsf{Sh}(L)\)</span> 上的一个满射，考虑其在预层拓扑斯 <span class="arithmatex">\(\mathsf{Psh}(L)\)</span><sup id="fnref:5"><a class="footnote-ref" href="#fn:5">6</a></sup> 上的像分解 <span class="arithmatex">\(ip\)</span>，应用层函子 <span class="arithmatex">\(a\)</span>，就有 <span class="arithmatex">\(B \cong a(I)\)</span> 为 <span class="arithmatex">\(I\)</span> 构造出的层。回顾 3.2 节，我们会发现 <span class="arithmatex">\(B\)</span> 无外乎 <span class="arithmatex">\(I\)</span> 在定义层时的 Lawvere-Tierney 拓扑下的完备化，于是由例 3.8 即可得出结论。</p>
</details>
<div class="admonition info">
<p class="admonition-title">反例 4.14</p>
<p>存在一个宇性拓扑斯，其中满态射不一定在每个点上都是满射。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>考虑由三元素集 <span class="arithmatex">\(\{x, y, z\}\)</span> 给定的拓扑空间 <span class="arithmatex">\(X\)</span>，其上的开集定义为 <span class="arithmatex">\(\{x, y\}\)</span>，<span class="arithmatex">\(\{y, z\}\)</span> 和 <span class="arithmatex">\(\{y\}\)</span>。显然，置</p>
<div class="arithmatex">\[
A(\{x, y, z\}) = \varnothing, \quad A(\{x, y\}) = \{a\}, \quad A(\{y, z\}) = \{a'\}, \quad A(\{y\}) = \{a, a'\}
\]</div>
<p>能够得到 <span class="arithmatex">\(X\)</span> 上的一个层，胶合条件完全无关紧要。根据命题 4.13，态射 <span class="arithmatex">\(A \to 1\)</span> 是一个层拓扑斯中的满态射，但是在顶层并非满射。</p>
</details>
<p>类似的考虑也可以在任意的 Grothendieck 拓扑斯中进行。这表明宇性拓扑斯或者 Grothendieck 拓扑斯的内逻辑中，存在量词并不能被翻译成逐点的存在性：它毋宁说是一种局部的存在，在一个覆盖的所有部分中存在，在空性拓扑斯中，这也等同于说，在每个点的邻域中存在。但是在一个任意的拓扑斯中，当我们用其内逻辑写出证明的时候，命题 4.12 却告诉我们，可以直接用通常描述满射的公式描述满态射。这是一个很大的简化，尤其时当你需要处理各种满态射的组合的时候。</p>
<div class="admonition info">
<p class="admonition-title">拓展阅读</p>
<p>下面是另外一个很有趣的性质，例 4.11 当我们用拓扑斯的内逻辑表述的时候也会出现，也就是说，每个环都是一个局部环……如果选择了一个够大的拓扑斯！回顾一下，一个局部环指的是对于任意元素 <span class="arithmatex">\(r\)</span>，<span class="arithmatex">\(r\)</span> 和 <span class="arithmatex">\(1 - r\)</span> 中至少有一个是可逆的。举个例子，每个域都是一个局部环。</p>
<p>给定交换环 <span class="arithmatex">\(R\)</span>，在其 Zariski 谱上的层拓扑斯中，存在一个环 <span class="arithmatex">\(\hat R\)</span>，它在这个拓扑斯的内逻辑中是局部环，并且将原环实现为常元。见参考文献 [4] 的 2.11 节。</p>
</div>
<h2 id="46">4.6 内极限和余极限<a class="headerlink" href="#46" title="Permanent link">&para;</a></h2>
<p>许多习惯于在 Grothendieck 拓扑斯中工作的人往往觉得初等拓扑斯的结构太差以至于百无一用，因为它们不能处理那些要求无穷极限和余极限的深刻结果。他们错的一塌糊涂。首先，他们就没有意识到 Grothendieck 拓扑斯在由对象集合和箭头集合构成的图的极限和余极限之外还有更多得多的东西：它们有由对象层和箭头层构成的的内图表的极限和余极限。对于这些更加复杂而广泛的内极限和余极限的考察有助于我们构建简单而优雅的证明，而且它们在每个初等拓扑斯中都存在。</p>
<p>当然，一个初等拓扑斯只是有限完备、有限余完备的。因此，任意子对象的交和并、或者任意小极限或小余极限都不总是存在。但是，拓扑斯的内逻辑容许我们处理“任意的内构造”，不需要外加什么有限性条件。</p>
<p>例如，对象 <span class="arithmatex">\(A\)</span> 的子对象格是一个 Heyting 代数，但不是一个宇象，因为子对象的任意并不存在于其中。我们也已经发现，<span class="arithmatex">\(\Omega^A\)</span> 这个对象，也就是“A 中的对象的子对象”自己是一个内 Heyting 代数，实际的子对象作为这个内 Heyting 代数 <span class="arithmatex">\(\Omega^A\)</span> 中的常元存在。事实上，我们还可以进一步推广：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.15</p>
<p>在一个初等拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，对于任意对象 <span class="arithmatex">\(A\)</span>，Heyting 代数 <span class="arithmatex">\(\Omega^A\)</span> 都有一个内宇象结构。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>如前所述，<span class="arithmatex">\(\Omega^A\)</span> 应当被认为是 A 的“对象的子对象”，因此一个子对象 <span class="arithmatex">\(S \rightarrowtail \Omega^A\)</span>，即一个 <span class="arithmatex">\(\Omega^{\Omega^A}\)</span> 类型的常元，可以被视作是 <span class="arithmatex">\(A\)</span> 中的一族子对象，下面两个表达式在拓扑斯的内逻辑中成立：</p>
<div class="arithmatex">\[
\bigcap S = \{a | \forall \sigma(\sigma \in S \implies a \in \sigma)\} \subseteq A
\]</div>
<div class="arithmatex">\[
\bigcup S = \{a | \exists \sigma(\sigma \in S \wedge a \in \sigma)\} \subseteq A
\]</div>
<p>其中 <span class="arithmatex">\(a\)</span> 为类型 <span class="arithmatex">\(A\)</span> 的变元，<span class="arithmatex">\(\sigma\)</span> 为类型 <span class="arithmatex">\(\Omega^A\)</span> 的变元，它们定义了 <span class="arithmatex">\(A\)</span> 事实上的子对象。</p>
<p>这些子对象当然是内子对象的内部族的内交和内并。稍微改写一下这两个式子，用一个类型为 <span class="arithmatex">\(\Omega^{\Omega^A}\)</span> 的变元 <span class="arithmatex">\(S\)</span> 来表达，就给出了态射：</p>
<div class="arithmatex">\[\begin{aligned}
 \bigcup &amp; : &amp; \Omega^{\Omega^A} \to \Omega^A \\
 \bigcap &amp; : &amp; \Omega^{\Omega^A} \to \Omega^A \\
\end{aligned}\]</div>
<p>其中 <span class="arithmatex">\(\bigcup\)</span> 就表达了 <span class="arithmatex">\(\Omega^A\)</span> 的内宇象结构。事实上，由于笛卡尔闭性，这个态射一定对应了态射：</p>
<div class="arithmatex">\[
A \times \Omega^{\Omega^A} \to \Omega 
\]</div>
<p>因此也就对应于 <span class="arithmatex">\(A \times \Omega^{\Omega^A}\)</span> 的一个子对象</p>
<div class="arithmatex">\[
\{(a, S) | \exists \sigma\ (\sigma \in S \wedge a \in \sigma)\}
\]</div>
<p>细节可参见参考文献 [4] 的定理 6.1.9。</p>
</details>
<p>下面来考虑极限和余极限。给定范畴 <span class="arithmatex">\(\mathcal E\)</span> 和小范畴 <span class="arithmatex">\(\mathcal D\)</span>，所有 <span class="arithmatex">\(\mathcal D\)</span>-极限和 <span class="arithmatex">\(\mathcal D\)</span>-余极限的存在性就相当于是下面这个函子右伴随或左伴随的存在性：</p>
<div class="arithmatex">\[
\Delta_{\mathcal D}: \mathcal E \to [\mathcal D, \mathcal E], X \mapsto \Delta_X
\]</div>
<p>其中 <span class="arithmatex">\(\Delta_X\)</span> 表示 <span class="arithmatex">\(X\)</span> 上的所有常函子（见参考文献 [3] 中的命题 3.2.3）。</p>
<p>仍然取小范畴 <span class="arithmatex">\(\mathcal D\)</span>，记其对象为 <span class="arithmatex">\(\mathsf{Ob}(\mathcal D)\)</span>，态射为 <span class="arithmatex">\(\mathsf{Mor}(\mathcal D)\)</span><sup id="fnref:6"><a class="footnote-ref" href="#fn:6">5</a></sup>。每个函子 <span class="arithmatex">\(F: \mathcal D \to \mathsf{Set}\)</span> 都给出了一个集族 <span class="arithmatex">\((F(D))_{D \in \mathsf{Ob}(\mathcal D)}\)</span> 和 <span class="arithmatex">\(\mathsf{Mor}(\mathcal D)\)</span> 在这个集族上的作用。我们知道，这也可以被认为是一个态射 <span class="arithmatex">\(\coprod_{D \in \mathsf{Ob}(\mathcal D)} F(D) \to \mathsf{Ob}(\mathcal D)\)</span> 和 <span class="arithmatex">\(\mathsf{Mor}(\mathcal D)\)</span> 在其上的作用。</p>
<p>现在给定一个拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 的内范畴 <span class="arithmatex">\(\mathbb D\)</span>（参看 [2] 中的定义 8.1.1），记对象的对象为 <span class="arithmatex">\(D_0\)</span>，态射的对象为 <span class="arithmatex">\(D_1\)</span>，一个内基值函子（internal based valued functor）<span class="arithmatex">\(F: \mathbb D \to \mathcal E\)</span> 被定义为有序对 <span class="arithmatex">\((F, \varphi)\)</span> 以及 <span class="arithmatex">\(D_1\)</span> 在 <span class="arithmatex">\(F\)</span> 上的一个作用，其中 <span class="arithmatex">\(\varphi: F \to D_0\)</span>（见 [2] 中的定义 8.2.1）。给出对象 <span class="arithmatex">\(X \in \mathcal E\)</span>，<span class="arithmatex">\(X\)</span> 上的常值内函子就是投影 <span class="arithmatex">\(D_0 \times X \to D_0\)</span> 以及 <span class="arithmatex">\(D_1\)</span> 的恒同作用。很直接地，也可以定义内自然变换并给出一个实际的函子</p>
<div class="arithmatex">\[
\Delta_{\mathbb{D}}: \mathcal E \to [\mathbb D, \mathcal E]
\]</div>
<p>映到内基值函子的范畴上去。（见 [3] 的 8.3 节）</p>
<div class="admonition success">
<p class="admonition-title">命题 4.16</p>
<p>一个初等拓扑斯是内完备、内余完备的，也就是说，上述定义的每个函子 <span class="arithmatex">\(\Delta_{\mathbb{D}}\)</span> 都有右伴随和左伴随。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>作为一个有趣的练习，读者不妨尝试自行证明，经典的对于集合中的极限和余极限的描述用初等拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 的内逻辑进行解读就能得到所需的结果。</p>
</details>
<p>现在给定位形 <span class="arithmatex">\((\mathcal C, \mathcal T)\)</span>，如下的复合当然是保有限极限的，因为两个函子都是如此：</p>
<div class="arithmatex">\[
\mathsf{Set} \stackrel {\Delta_{\mathcal C}} \to \mathsf{Psh}(\mathcal C) \stackrel a \to \mathsf{Sh}(\mathcal C, \mathcal T)
\]</div>
<p>其中 <span class="arithmatex">\(a\)</span> 为相应的层函子。它将任意小范畴 <span class="arithmatex">\(\mathcal D\)</span>，即 <span class="arithmatex">\(\mathsf{Set}\)</span> 的任意内范畴转变成了 <span class="arithmatex">\(\mathsf{Sh}(\mathcal C, \mathcal T)\)</span> 的一个内范畴 <span class="arithmatex">\(\mathbb D\)</span>。事实上，是一个相当平凡的内范畴，因为</p>
<div class="arithmatex">\[
D_0 = a \Delta(\mathsf{Ob}(\mathcal D)) = \coprod_{\mathsf{Ob}(\mathcal D)} 1, \quad D_1 = a \Delta(\mathsf{Mor}(\mathcal D)) = \coprod_{\mathsf{Mor}(\mathcal D)} 1
\]</div>
<p>由于在 <span class="arithmatex">\(\mathsf{Set}\)</span> 中就是如此，而且 <span class="arithmatex">\(\Delta\)</span> 和 <span class="arithmatex">\(a\)</span> 都保余极限，因为它们有右伴随。</p>
<p>另外，函子 <span class="arithmatex">\(F: \mathcal D \to \mathsf{Sh}(\mathcal C, \mathcal T)\)</span> 也能直接给出一个内基值函子</p>
<div class="arithmatex">\[
\coprod_{D \in \mathcal D} F(D) \stackrel {\coprod \xi_{\mathcal D}} \longrightarrow \coprod_{\mathsf{Ob}(\mathcal D)} \mathbf 1 \cong D_0
\]</div>
<p>其中 <span class="arithmatex">\(\xi_D: F(D) \to \mathbf 1\)</span>。容易验证，这个内基值函子的内极限或余极限相当于对原函子 <span class="arithmatex">\(F\)</span> 的小极限或余极限的重建。</p>
<p>因此，在一个 Grothendieck 拓扑斯中，小极限和小余极限无非是内极限和内余极限的特例。当然，在 Grothendieck 拓扑斯中，内完备性和内余完备性的性质比小完备性和小余完备性的性质丰富得多。正如命题 4.16 所数，这些更丰富的性质在每个初等拓扑斯中都是成立的。</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>“多产的叉子搅拌黄色的数学。”一个典型的符合语法但是不知所云的句子。——译者注&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>看起来作者在原文中用的是 <code>tipa</code> 包中的 <code>\textopencorner</code> 而不是这里用的 <code>\lceil</code>，译者用 <code>\lceil</code> 代替是因为 KaTeX 没有这玩意。——译者注&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>作者混用了 valid 的两个义项，一个是指公式是良定（或者叫良构，well-formed）的，一个是指公式为真。在这里前者译作合法，后者译作有效。——译者注&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>比利时巧克力在欧洲非常有名，大概相当于在内地说高邮咸鸭蛋……？——译者注&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>原文为 <span class="arithmatex">\(\mathsf{Ar}(\mathcal D)\)</span>，修改理由同上。——译者注&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>原文用的记号是 <span class="arithmatex">\(\mathsf{Pr}(L)\)</span>，这里为了与常用的记号统一起见，使用 <span class="arithmatex">\(\mathsf{Psh}\)</span>，虽然这个记号本来就五花八门。——译者注&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
  






  <h2 id="__comments">评论</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
        data-repo="frightenedfoxcn/notes"
        data-repo-id="R_kgDOI23RIA"
        data-category="Announcements"
        data-category-id="DIC_kwDOI23RIM4CUEOA"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"></script>
      
        <script src="../../../js/katex.js"></script>
      
    
  </body>
</html>